<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Vagad Live News - Video Page</title>

<style>
    body {
        margin: 0;
        padding: 0;
        font-family: 'Poppins', sans-serif;
        background: #fafafa;
    }

    .header {
        background: #d30000;
        color: white;
        padding: 14px 16px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 600;
        font-size: 18px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    }

    .live-box {
        display: flex;
        align-items: center;
        gap: 6px;
    }

    .dot {
        width: 10px;
        height: 10px;
        background: yellow;
        border-radius: 50%;
        animation: blink 0.9s infinite;
    }
    @keyframes blink { 50% {opacity: 0;} }

    #datetime {
        font-size: 14px;
        color: #fff;
    }

    .video-container {
        width: 100%;
        background: #000;
    }

    .video-container iframe {
        width: 100%;
        height: 240px;
    }

    .controls {
        width: 94%;
        margin: 10px auto;
        display: flex;
        align-items: center;
        gap: 14px;
        background: #fff;
        padding: 10px 14px;
        border-radius: 10px;
        box-shadow: 0 3px 10px rgba(0,0,0,0.15);
    }

    .toggle-btn {
        padding: 8px 14px;
        background: #d30000;
        color: white;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 600;
    }

    .volume-slider {
        width: 120px;
        cursor: pointer;
    }

    .news-section {
        margin: 15px auto;
        background: white;
        padding: 14px;
        border-radius: 12px;
        width: 94%;
        box-shadow: 0 3px 10px rgba(0,0,0,0.20);
    }

    .news-title {
        font-size: 18px;
        font-weight: 700;
        margin-bottom: 12px;
        color: #d30000;
    }

    .news-wrapper {
        height: 220px;
        overflow: hidden;
        position: relative;
        margin-bottom: 12px;
    }

    .news-list {
        position: absolute;
        width: 100%;
        animation: scrollUp linear infinite;
    }

    @keyframes scrollUp {
        0% { transform: translateY(0%); }
        100% { transform: translateY(-100%); }
    }

    .news-item {
        font-size: 15px;
        padding: 8px 0;
        border-bottom: 1px solid #eee;
        line-height: 1.5;
    }

    .ad-banner {
        width: 94%;
        margin: 0 auto 20px auto;
        border-radius: 10px;
        overflow: hidden;
    }

    .ad-banner img {
        width: 100%;
        height: auto;
        display: block;
    }
</style>
</head>
<body>

<div class="header">
    <div>Vagad Live News</div>
    <div class="live-box">
        <div class="dot"></div>
        <div id="datetime">Loading...</div>
    </div>
</div>

<div class="video-container">
    <iframe
        id="ytPlayer"
        src="https://www.youtube.com/embed/Nq2wYlWFucg?autoplay=1&mute=1&enablejsapi=1"
        allow="autoplay; encrypted-media"
        allowfullscreen></iframe>
</div>

<div class="controls">
    <div id="soundBtn" class="toggle-btn">Sound On</div>
    <input type="range" id="volumeSlider" class="volume-slider" min="0" max="100" value="50">
</div>

<div class="news-section">
    <div class="news-title">आज की ताज़ा खबरें</div>

    <div class="news-wrapper">
        <div id="newsList" class="news-list"></div>
    </div>
</div>

<div class="ad-banner">
    <img src="https://i.ibb.co/ks4Z3sPM/images.jpg" />
</div>

<script>
function updateDateTime() {
    const now = new Date();
    document.getElementById("datetime").innerText =
        now.toLocaleString('hi-IN', {
            hour:'2-digit', minute:'2-digit',
            day:'2-digit', month:'short', year:'numeric'
        });
}
setInterval(updateDateTime, 1000);
updateDateTime();

/* YouTube Control Code SAME */
let player;
function onYouTubeIframeAPIReady() { player = new YT.Player("ytPlayer"); }
let tag = document.createElement("script");
tag.src = "https://www.youtube.com/iframe_api";
document.body.appendChild(tag);
document.getElementById("soundBtn").onclick = () => {
    if (!player) return;
    if (player.isMuted()) {
        player.unMute();
        document.getElementById("soundBtn").innerText = "Sound Off";
    } else {
        player.mute();
        document.getElementById("soundBtn").innerText = "Sound On";
    }
};
document.getElementById("volumeSlider").oninput = function () {
    if (player) player.setVolume(this.value);
};


/* ⭐⭐⭐ MULTIPLE NEWS SOURCE + NO DUPLICATE + MAX 100 ⭐⭐⭐ */
async function loadNews() {
    const sources = [
        "https://news.google.com/rss?hl=hi&gl=IN&ceid=IN:hi",
        "https://news.google.com/rss/search?q=India&hl=hi&gl=IN&ceid=IN:hi",
        "https://news.google.com/rss/search?q=Rajasthan&hl=hi&gl=IN&ceid=IN:hi",
        "https://news.google.com/rss/search?q=Breaking+News&hl=hi&gl=IN&ceid=IN:hi"
    ];

    let allNews = [];

    try {
        for (let url of sources) {
            let res = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(url)}`);
            let data = await res.json();

            if (data.items) {
                allNews.push(...data.items.map(i => i.title));
            }
        }

        let uniqueNews = [...new Set(allNews)];
        let finalNews = uniqueNews.slice(0, 100);

        let html = "";
        finalNews.forEach(t => {
            html += `<div class="news-item">• ${t}</div>`;
        });

        const list = document.getElementById("newsList");
        list.innerHTML = html;

        const height = list.scrollHeight;
        list.style.animationDuration = (height / 35) + "s";

    } catch (e) {
        document.getElementById("newsList").innerHTML =
            "<div class='news-item'>News load नहीं हो पाई…</div>";
    }
}
loadNews();
</script>

</body>
</html>
